# CI on Windows via appveyor
# This file was based on Olivier Grisel's python-appveyor-demo

environment:
  global:
    HDF_DIR: "C:/HDF_Group/HDF5/lib"
  matrix:
    - PYTHON: "C:\\Python27"
      PYTHON_VERSION: "2.7.11"
      PYTHON_ARCH: "64"

init:
  - cmd: cmake --version

install:
  - mkdir hdf5lib
  - cd hdf5lib
  - if "%PYTHON_VERSION%" == "2.7.11" http://repo.continuum.io/pkgs/free/win-64/hdf5-1.8.16-vc9_0.tar.bz2
  - if "%PYTHON_VERSION%" == "2.7.11" 7z x -y hdf5-1.8.16-vc9_0.tar.bz2
  - if "%PYTHON_VERSION%" == "2.7.11" 7z x -y hdf5-1.8.16-vc9_0.tar
  - mkdir "C:/HDF_Group/HDF5"
  - xcopy Library "C:/HDF_Group/HDF5" /s /e /y
  - cd ..
# install stdint
  - if "%PYTHON_VERSION%" == "2.7.11" curl -O http://ftp.vector.co.jp/43/28/2114/stdint-20070624.zip
  - if "%PYTHON_VERSION%" == "2.7.11" unzip stdint-20070624.zip
  - pip install h5py


build: false  # Not a C# project, build stuff at the test step instead.

test_script:
  # Run the project tests
  - "nosetests --with-timer --timer-top-n=10"
